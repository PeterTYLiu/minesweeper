(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],{12:function(n,e,t){},14:function(n,e,t){},15:function(n,e,t){"use strict";t.r(e);var r=t(1),c=t.n(r),i=t(7),o=t.n(i),a=(t(12),t(5)),u=t(2),s=t(0);function f(n){var e=n.isMine,t=n.minesAround,r=n.swept,c=n.setTilesRemaining,i=n.tilesRemaining,o=n.floodFill,u=n.boardState,f=n.setBoardState,d=n.id,l=n.loseGame;return Object(s.jsx)("div",{className:"tile ".concat(e?"mine":""," ").concat(r?"swept":""," around-").concat(t),onClick:function(){if(e&&i>0)return l(d);if(!r&&i>0){var n=Object(a.a)(u);n[d-1].swept=!0,c(i-1),0!=t||e||o(n[d-1],n),f(n),c(n.filter((function(n){return!n.swept&&!n.isMine})).length)}},children:!r&&i>0?null:Object(s.jsx)("p",{children:e?"\ud83d\udca3":t})})}t(14);var d=function(){var n=10,e="".concat(n,"x").concat(20,"x").concat(35,"m");function t(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:35,c=[],i=1;i<=t;i++)for(var o=1;o<=e;o++)c.push({c:o,r:i,isMine:!1,id:o+(i-1)*e,swept:!1});for(var a=r;a>0;){var u=Math.floor(Math.random()*t*e);c[u].isMine||(c[u].isMine=!0,a--)}return c.forEach((function(n){var e=n.r,t=n.c;n.minesAround=[c.find((function(n){return n.r==e&&n.c==t+1})),c.find((function(n){return n.r==e&&n.c==t-1})),c.find((function(n){return n.r==e+1&&n.c==t})),c.find((function(n){return n.r==e-1&&n.c==t})),c.find((function(n){return n.r==e+1&&n.c==t+1})),c.find((function(n){return n.r==e-1&&n.c==t-1})),c.find((function(n){return n.r==e+1&&n.c==t-1})),c.find((function(n){return n.r==e-1&&n.c==t+1}))].filter((function(n){return null===n||void 0===n?void 0:n.isMine})).length})),c}function c(n,e){var t=n.r,r=n.c,i=[e.find((function(n){return n.r==t&&n.c==r+1})),e.find((function(n){return n.r==t&&n.c==r-1})),e.find((function(n){return n.r==t+1&&n.c==r})),e.find((function(n){return n.r==t-1&&n.c==r})),e.find((function(n){return n.r==t+1&&n.c==r+1})),e.find((function(n){return n.r==t-1&&n.c==r-1})),e.find((function(n){return n.r==t+1&&n.c==r-1})),e.find((function(n){return n.r==t-1&&n.c==r+1}))].filter((function(n){return(null===n||void 0===n?void 0:n.id)&&!(null===n||void 0===n?void 0:n.swept)}));i.forEach((function(n){e[n.id-1].swept=!0,0==n.minesAround&&i.length>0&&c(n,e)}))}var i=t(),o=Object(r.useState)(165),d=Object(u.a)(o,2),l=d[0],m=d[1],j=Object(r.useState)("preGame"),p=Object(u.a)(j,2),b=p[0],v=p[1],g=Object(r.useState)(0),h=Object(u.a)(g,2),O=h[0],x=h[1],S=Object(r.useState)(i),w=Object(u.a)(S,2),M=w[0],G=w[1],I=Object(r.useState)(localStorage.getItem(e)?"Record: ".concat(localStorage.getItem(e)+"s"):"No record"),N=Object(u.a)(I,2),A=N[0],F=N[1];Object(r.useEffect)((function(){if("inGame"==b){var n=setInterval((function(){x(Number((O+.1).toFixed(1)))}),100);return function(){return clearInterval(n)}}}),[b,O]),Object(r.useEffect)((function(){0==l&&C()}),[l]);var C=function(){v("postGame");var n=localStorage.getItem(e);(!n||O<n)&&(localStorage.setItem(e,O),F("New record!"))},R=function(n){for(var e=Object(a.a)(M),t=0;t<e.length;t++)e[t].swept=!0;G(e),v("postGame")},k=i.map((function(e,r){if(1==e.c)return Object(s.jsx)("div",{children:M.map((function(e){if(e.r==r/n+1)return Object(s.jsx)("div",{className:"tile pre-game",onClick:function(){!function(n){for(var e=t();e[n-1].isMine||0!=e[n-1].minesAround;)e=t();e[n-1].swept=!0,c(e[n-1],e),m(e.filter((function(n){return!n.swept&&!n.isMine})).length),G(e),x(0),v("inGame")}(e.id)}},"pg-r".concat(e.r,"c").concat(e.c))}))},"pg-".concat(r))})),E=M.map((function(e,t){if(1==e.c)return Object(s.jsx)("div",{children:M.map((function(e){if(e.r==t/n+1)return Object(s.jsx)(f,{minesAround:e.minesAround,isMine:e.isMine,setTilesRemaining:m,tilesRemaining:l,swept:e.swept,c:e.c,r:e.r,boardState:M,setBoardState:G,floodFill:c,id:e.id,loseGame:R},"r".concat(e.r,"c").concat(e.c))}))},t)}));return Object(s.jsx)("div",{className:"App",children:Object(s.jsxs)("div",{className:"container",children:[Object(s.jsxs)("div",{className:"controls",children:[Object(s.jsx)("span",{children:A}),"postGame"==b&&Object(s.jsx)("button",{onClick:function(){G(i),m(165),x(0),v("preGame"),F(localStorage.getItem(e)?"Record: ".concat(localStorage.getItem(e)+"s"):"No record")},children:0==l?"\ud83d\ude0e":"\ud83d\ude2c"}),Object(s.jsxs)("span",{style:{textAlign:"right"},children:[O.toString().includes(".")?O:O.toString()+".0","s"]})]}),Object(s.jsx)("div",{className:"board ".concat("postGame"==b&&"postGame"),children:"preGame"==b?k:E})]})})},l=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,16)).then((function(e){var t=e.getCLS,r=e.getFID,c=e.getFCP,i=e.getLCP,o=e.getTTFB;t(n),r(n),c(n),i(n),o(n)}))};o.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(d,{})}),document.getElementById("root")),l()}},[[15,1,2]]]);
//# sourceMappingURL=main.86241072.chunk.js.map