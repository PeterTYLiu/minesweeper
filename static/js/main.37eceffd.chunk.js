(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],{12:function(n,t,e){},14:function(n,t,e){},15:function(n,t,e){"use strict";e.r(t);var c=e(1),r=e.n(c),i=e(7),o=e.n(i),a=(e(12),e(5)),s=e(2),u=e(0);function f(n){var t=n.isMine,e=n.minesAround,c=n.swept,r=n.setTilesRemaining,i=n.tilesRemaining,o=n.floodFill,s=n.boardState,f=n.setBoardState,l=n.id,d=n.loseGame;return Object(u.jsx)("div",{className:"tile ".concat(t?"mine":""," ").concat(c?"swept":""," around-").concat(e),onClick:function(){if(t&&i>0)return d(l);if(!c&&i>0){var n=Object(a.a)(s);n[l-1].swept=!0,r(i-1),0!=e||t||o(n[l-1],n),f(n),r(n.filter((function(n){return!n.swept&&!n.isMine})).length)}},children:!c&&i>0?null:Object(u.jsx)("p",{children:t?"\ud83d\udca3":e})})}e(14);var l=function(){var n=10,t="".concat(n,"x").concat(20,"x").concat(35,"m");function e(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:35,r=[],i=1;i<=e;i++)for(var o=1;o<=t;o++)r.push({c:o,r:i,isMine:!1,id:o+(i-1)*t,swept:!1});for(var a=c;a>0;){var s=Math.floor(Math.random()*e*t);r[s].isMine||(r[s].isMine=!0,a--)}return r.forEach((function(n){var t=n.r,e=n.c;n.minesAround=[r.find((function(n){return n.r==t&&n.c==e+1})),r.find((function(n){return n.r==t&&n.c==e-1})),r.find((function(n){return n.r==t+1&&n.c==e})),r.find((function(n){return n.r==t-1&&n.c==e})),r.find((function(n){return n.r==t+1&&n.c==e+1})),r.find((function(n){return n.r==t-1&&n.c==e-1})),r.find((function(n){return n.r==t+1&&n.c==e-1})),r.find((function(n){return n.r==t-1&&n.c==e+1}))].filter((function(n){return null===n||void 0===n?void 0:n.isMine})).length})),r}function r(n,t){var e=n.r,c=n.c,i=[t.find((function(n){return n.r==e&&n.c==c+1})),t.find((function(n){return n.r==e&&n.c==c-1})),t.find((function(n){return n.r==e+1&&n.c==c})),t.find((function(n){return n.r==e-1&&n.c==c})),t.find((function(n){return n.r==e+1&&n.c==c+1})),t.find((function(n){return n.r==e-1&&n.c==c-1})),t.find((function(n){return n.r==e+1&&n.c==c-1})),t.find((function(n){return n.r==e-1&&n.c==c+1}))].filter((function(n){return(null===n||void 0===n?void 0:n.id)&&!(null===n||void 0===n?void 0:n.swept)}));i.forEach((function(n){t[n.id-1].swept=!0,0==n.minesAround&&i.length>0&&r(n,t)}))}var i=e(),o=Object(c.useState)(165),l=Object(s.a)(o,2),d=l[0],j=l[1],m=Object(c.useState)("preGame"),p=Object(s.a)(m,2),b=p[0],g=p[1],v=Object(c.useState)(0),h=Object(s.a)(v,2),O=h[0],x=h[1],S=Object(c.useState)(i),w=Object(s.a)(S,2),M=w[0],G=w[1],I=Object(c.useState)("Record: ".concat(localStorage.getItem(t)?localStorage.getItem(t)+"s":"Not set")),N=Object(s.a)(I,2),A=N[0],F=N[1];Object(c.useEffect)((function(){if("inGame"==b){var n=setInterval((function(){x(Number((O+.1).toFixed(1)))}),100);return function(){return clearInterval(n)}}}),[b,O]),Object(c.useEffect)((function(){0==d&&C()}),[d]);var C=function(){g("postGame");var n=localStorage.getItem(t);(!n||O<n)&&(localStorage.setItem(t,O),F("New record for format ".concat(t,"!")))},R=function(n){for(var t=Object(a.a)(M),e=0;e<t.length;e++)t[e].swept=!0;G(t),g("postGame")},k=i.map((function(t,c){if(1==t.c)return Object(u.jsx)("div",{children:M.map((function(t){if(t.r==c/n+1)return Object(u.jsx)("div",{className:"tile pre-game",onClick:function(){!function(n){for(var t=e();t[n-1].isMine||0!=t[n-1].minesAround;)t=e();t[n-1].swept=!0,r(t[n-1],t),j(t.filter((function(n){return!n.swept&&!n.isMine})).length),G(t),x(0),g("inGame")}(t.id)}},"pg-r".concat(t.r,"c").concat(t.c))}))},"pg-".concat(c))})),E=M.map((function(t,e){if(1==t.c)return Object(u.jsx)("div",{children:M.map((function(t){if(t.r==e/n+1)return Object(u.jsx)(f,{minesAround:t.minesAround,isMine:t.isMine,setTilesRemaining:j,tilesRemaining:d,swept:t.swept,c:t.c,r:t.r,boardState:M,setBoardState:G,floodFill:r,id:t.id,loseGame:R},"r".concat(t.r,"c").concat(t.c))}))},e)}));return Object(u.jsx)("div",{className:"App",children:Object(u.jsxs)("div",{className:"container",children:[Object(u.jsxs)("div",{className:"controls",children:[Object(u.jsxs)("span",{children:[d," left"]}),"postGame"==b&&Object(u.jsx)("button",{onClick:function(){G(i),j(165),x(0),g("preGame"),F("Record: ".concat(localStorage.getItem(t)?localStorage.getItem(t)+"s":"Not set"))},children:0==d?"\ud83d\ude0e":"\ud83d\ude2c"}),Object(u.jsxs)("span",{style:{textAlign:"right"},children:[O.toString().includes(".")?O:O.toString()+".0","s"]})]}),Object(u.jsx)("div",{className:"board ".concat("postGame"==b&&"postGame"),children:"preGame"==b?k:E}),Object(u.jsx)("div",{style:{padding:"10px 0px"},children:Object(u.jsx)("p",{style:{textAlign:"center"},children:A})})]})})},d=function(n){n&&n instanceof Function&&e.e(3).then(e.bind(null,16)).then((function(t){var e=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,o=t.getTTFB;e(n),c(n),r(n),i(n),o(n)}))};o.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(l,{})}),document.getElementById("root")),d()}},[[15,1,2]]]);
//# sourceMappingURL=main.37eceffd.chunk.js.map